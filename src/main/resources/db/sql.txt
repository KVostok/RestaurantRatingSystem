-- Rating restaurant --
SELECT M.DATE, R.NAME, COUNT(R.ID) AS RATING FROM RESTAURANT AS R
    INNER JOIN MENU M
        on R.ID = M.RESTAURANT_ID
    INNER JOIN VOTES V
        on M.ID = V.MENU_ID
GROUP BY R.NAME, M.DATE
--     HAVING M.DATE = DATE_SUB(TODAY, INTERVAL 0 DAY)
    ORDER BY M.DATE DESC, RATING DESC